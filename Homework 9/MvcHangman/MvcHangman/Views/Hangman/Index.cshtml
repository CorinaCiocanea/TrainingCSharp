@using System.ServiceModel
@model MvcHangman.Models.GameInfo

@{
    ViewBag.Title = "Index";
}

<h2>Guess world</h2>
<h2>
     @foreach (var character in Model.hiddenWorld)
     {
         var variable = false;
         foreach (var letter in Model.letterUsed)
         {
             if (letter == Char.ToUpper(character))
             {

                 variable = true;
                 break;
             }
             //if (letter != character)
             //{
             //    Model.numberChoices = Model.numberChoices - 1;
             //}
             
         }
         if (variable == true)
             
         {
             
         @Html.Raw(character.ToString())

         }
         else
         {
           @Html.Raw("_ ")

         }

         if (variable == true)
         {
             Model.numberChoices = Model.numberChoices - 1;
         }
        
        
         }
    
    <div>
        Number of choices left: 
      @Model.numberChoices

        @foreach (var alfa in Model.hiddenWorld)
    {
        foreach (var beta in Model.letterUsed)
        {
            if (beta != alfa)
            {
                Model.numberChoices = Model.numberChoices - 1;
            }
        }
    }
       
    </div>
    <div>
        Already used letter:
        @foreach (var b in Model.letterUsed)
        {
          @Html.Raw((char)b + ", ");
        }

    </div>
<div>
    alfabet:
    @foreach (var alfa in Model.lettersAvailable)
    {
        <li>@Html.ActionLink((char)alfa + ", ", "Index")</li>
    }
</div>
    <div>
        Letters: still available:
   @foreach (var a in Model.lettersAvailable)
     {
       @Html.Raw((char)a + ", ");
       
    }  
     </div>
    @using (Html.BeginForm())
    { 
       <div>
           @Html.HiddenFor(m => m.lettersAvailable)
           @Html.HiddenFor(m => m.hiddenWorld)
           @Html.HiddenFor(m => m.letterUsed)
           @Html.TextBoxFor(m => m.letterNext) <button type="submit">Try</button>
           @Html.ActionLink("Try", "Index")

       </div>
    }

</h2>
