@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
<script src="ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="calculator.js"></script>

<div class="calculator">
    <p>Calculator</p>
    <div class="results">
        <input id="history" class="history" value="2+3+5" />
        <input id="result" class="result" />
    </div>

    <div>
        <input type="button" value="C" id="clear" />
        <input type="button" value="CE" />
        <input type="button" value="back" />
        <input type="button" value="/">
    </div>
    <div>
        <input type="button" value="7" />
        <input type="button" value="8" />
        <input type="button" value="9" />
        <input type="button" value="X">
    </div>
    <div>
        <input type="button" value="4" />
        <input type="button" value="5" />
        <input type="button" value="6" />
        <input type="button" value="-">
    </div>
    <div>
        <input type="button" value="1" />
        <input type="button" value="2" />
        <input type="button" value="3" />
        <input type="button" value="+">
    </div>
    <div>
        <input type="button" value="+/-" id ="neg"/>
        <input type="button" value="0" />
        <input type="button" value="." id ="punct" />
        <input type="button" value="=" id="equal" />
    </div>
</div>

<script>

    var result = $('#result'),
	    button = $(':button');
    // var result = 0;
    var curent = '0';
    var number = "";
    var newnumber = "";
    var operator = "";

    (button).click(function () {
        var buttonVal = $(this).val(),
	 		value = result.val();
        if (buttonVal == 'C') {
            result.val('');
        }
        else
            if (buttonVal == 'CE') {
                result.val('0');
            }
            //else
            //    if (buttonVal == '+/-') {
            //        result.val *= -1;
            //    }
                //else
                //    if (buttonVal == '.') {
                //        result.val('.');
                    //}
                    else {
                        value += buttonVal;
                        result.val(value);
                    }
    });

    $('#equal').click(function () {
        var sum = result.val();

        result.val('');
        result.val(eval(sum));

        if (result.val() === "Infinity") {
            result.val("error");
        }
    });
    $('#plus').click(function () {
        //var sum = result.val();
        //var curent = '0';
        //curent += '.';
        //result.val('');
        //result.val(eval(curent));
        result.val(".");

       
    });

    $("#neg").click(function () {
        var bigNum = new BigNumber(result.children().html());
        text = bigNum.toNumber() * -1;
        displayText();
        displayHistory();
        result.val();
        clear();
    });


    $("#equal").click(function () {
        if (buttonVal === "+") {
            number = (parseFloat(number, 10) + parseFloat(newnumber, 10)).toString(
              10
            );
        } else if (operator === "-") {
            number = (parseFloat(newnumber, 10) - parseFloat(number, 10)).toString(
              10
            );
        } else if (operator === "/") {
            number = (parseFloat(newnumber, 10) / parseFloat(number, 10)).toString(
              10
            );
        } else if (operator === "x") {
            number = (parseFloat(newnumber, 10) * parseFloat(number, 10)).toString(
              10
            );
        }

        result.text(number);
        testNumLength(number);
        console.log("this is the number variable:" + number);
        console.log("this is the newnumber variable:" + newnumber);

        number = "";
        newnumber = "";
    });
    //$(document).ready(function () {

    //    function calculate(num1, num2, opr) {
    //        num1 = parseFloat(num1);
    //        num2 = parseFloat(num2);
    //        switch (opr) {
    //            case "+":
    //                return num1 + num2
    //                break;
    //            case "-":
    //                return num1 - num2
    //                break;
    //            case "x":
    //                return num1 * num2
    //                break;
    //            case "/":
    //                if (num2 === 0) { return 0 }
    //                return num1 / num2
    //                break;
    //            default:
    //                console.log("default");
    //                return num1 + num2
    //        }
    //    }
    //});


    //$('#equal').click(function () {
    //    var sum = result.val();

    //    result.val('');
    //    result.val(eval(sum));


    //});
    //$('#C').click(function () {
    //    result.val('0');
    //});




    //$(document).ready(function(e) {
    //    $('#1,#2,#3,#4,#5,#6,#7,#8,#9,#0').click(function(){
    //        var v = $(this).val();
    //        $('#result').val($('#result').val() + v);	
    //    });
    //   window.alert("heloo");
    //    $('C').click(function(){
    //        $('#result').val('');
    //        $('#operation').val('');
    //        $('#operation').removeClass('activeAnswer');
    //        $('#equals').attr('onclick','');
    //    });

    //    <script type="text/javascript">
    //    $(".calculator").on('click',function(){
    //    if($(this).attr('data-role')!='operator'){
    //        $(".result").val($(".result").val() + $(this).val());
    //    }
    //    else{
    //        if ($(".result").val() != '') {
    //            $(".result").val($(".result").val() + $(this).val());
    //        }
    //    }
    //});

    //windows.alert("ds");
    //$(document).ready(function () {
    //    var result = 0;
    //    var prevEntry = 0;
    //    var operation = null;
    //    var currentEntry = '0';
    //    updateScreen(result);

    //    $(':button').on('click', function (evt) {
    //        var buttonPressed = $(this).html();
    //        console.log(buttonPressed);
    //        windows.alert();
    //        if (buttonPressed === "C") {
    //            result = 0;
    //            currentEntry = '0';
    //        } else if (buttonPressed === "CE") {
    //            currentEntry = '0';
    //        } else if (buttonPressed === "back") {

    //        } else if (buttonPressed === "+/-") {
    //            currentEntry *= -1;
    //        } else if (buttonPressed === '.') {
    //            currentEntry += '.';
    //        } else if (isNumber(buttonPressed)) {
    //            if (currentEntry === '0') currentEntry = buttonPressed;
    //            else currentEntry = currentEntry + buttonPressed;
    //        } else if (isOperator(buttonPressed)) {
    //            prevEntry = parseFloat(currentEntry);
    //            operation = buttonPressed;
    //            currentEntry = '';
    //        } else if (buttonPressed === '%') {
    //            currentEntry = currentEntry / 100;
    //        } else if (buttonPressed === 'sqrt') {
    //            currentEntry = Math.sqrt(currentEntry);
    //        } else if (buttonPressed === '1/x') {
    //            currentEntry = 1 / currentEntry;
    //        } else if (buttonPressed === 'pi') {
    //            currentEntry = Math.PI;
    //        } else if (buttonPressed === '=') {
    //            currentEntry = operate(prevEntry, currentEntry, operation);
    //            operation = null;
    //        }

    //        updateScreen(currentEntry);
    //    });
    //});

    //updateScreen = function (displayValue) {
    //    var displayValue = displayValue.toString();
    //    $('.result').html(displayValue.substring(0, 10));
    //};

    //isNumber = function (value) {
    //    return !isNaN(value);
    //}

    //isOperator = function (value) {
    //    return value === '/' || value === '*' || value === '+' || value === '-';
    //};

    //operate = function (a, b, operation) {
    //    a = parseFloat(a);
    //    b = parseFloat(b);
    //    console.log(a, b, operation);
    //    if (operation === '+') return a + b;
    //    if (operation === '-') return a - b;
    //    if (operation === '*') return a * b;
    //    if (operation === '/') return a / b;
    //}
</script>
